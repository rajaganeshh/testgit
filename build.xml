<project name="first" default ="run">
	<target name= "target1">
	<echo> First Ant Program </echo>
	</target> 
	
	<target name= "target2" depends = "target1">
	<echo> this is target </echo>
	</target>

	<target name="init" depends = "target2">
	<delete dir = "build" />
	<delete dir ="src" />
	<mkdir dir="build\classes" />
	<mkdir dir ="src" />
	<copyfile src="test.java" dest="src\test.java"/>
	</target>
	
	<target name = "compile" depends = "init">
	
		<javac includeantruntime="false" srcdir="src" destdir="build\classes" />
	</target>
	
	 <target name="jtest" depends="compile">
		 <junit haltonfailure="true" printsummary="true">
    		<test name="test"/>
    	</target>
    
	<target name="jar" depends ="jtest" >
        <mkdir dir="build\jar"/>
        <jar destfile="build\jar\HelloWorld.jar" basedir="build\classes">
            <manifest>
                <attribute name="Main-Class" value="oata.test"/>
            </manifest>
        </jar>
    </target>

	<target name="run" depends = "jar">
        <java jar="build\jar\HelloWorld.jar" fork="true"/>
    </target>


	
</project>

